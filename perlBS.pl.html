<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by perltidy on Thu Apr  3 20:41:54 2014 -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>perlBS.pl</title>
<style type="text/css">
<!--
/* default style sheet generated by perltidy */
body {background: #FFFFFF; color: #000000}
pre { color: #000000; 
      background: #FFFFFF;
      font-family: courier;
    } 

.c  { color: #228B22;} /* comment */
.cm { color: #000000;} /* comma */
.co { color: #000000;} /* colon */
.h  { color: #CD5555; font-weight:bold;} /* here-doc-target */
.hh { color: #CD5555; font-style:italic;} /* here-doc-text */
.i  { color: #00688B;} /* identifier */
.j  { color: #CD5555; font-weight:bold;} /* label */
.k  { color: #8B008B; font-weight:bold;} /* keyword */
.m  { color: #FF0000; font-weight:bold;} /* subroutine */
.n  { color: #B452CD;} /* numeric */
.p  { color: #000000;} /* paren */
.pd { color: #228B22; font-style:italic;} /* pod-text */
.pu { color: #000000;} /* punctuation */
.q  { color: #CD5555;} /* quote */
.s  { color: #000000;} /* structure */
.sc { color: #000000;} /* semicolon */
.v  { color: #B452CD;} /* v-string */
.w  { color: #000000;} /* bareword */
-->
</style>
</head>
<body>
<a name="-top-"></a>
<h1>perlBS.pl</h1>
<!-- BEGIN CODE INDEX --><a name="code-index"></a>
<ul>
<li><a href="#makeGrid-">package main</a>
<ul>
<li><a href="#makeGrid-">makeGrid</a></li>
<li><a href="#goCheck-">goCheck</a></li>
<li><a href="#disBtns-">disBtns</a></li>
<li><a href="#toggleButtons-">toggleButtons</a></li>
<li><a href="#clrFleet-">clrFleet</a></li>
<li><a href="#endGame-">endGame</a></li>
<li><a href="#setShips-">setShips</a></li>
<li><a href="#clrCoords-">clrCoords</a></li>
<li><a href="#check-">check</a></li>
<li><a href="#makeLines-">makeLines</a></li>
<li><a href="#makeCoords-">makeCoords</a></li>
<li><a href="#splitInt-">splitInt</a></li>
<li><a href="#ranO-">ranO</a></li>
<li><a href="#placeShip-">placeShip</a></li>
<li><a href="#coordCheckStr-">coordCheckStr</a></li>
<li><a href="#coordGen-">coordGen</a></li>
<li><a href="#coordCheck-">coordCheck</a></li>
</ul>
</li>
<li><a href="#EOF-">EOF</a></li>
</ul>
<!-- END CODE INDEX -->
<hr />
<!-- contents of filename: perlBS.pl -->
<pre>
#!/usr/bin/perl

<span class="k">use</span> <span class="w">strict</span><span class="sc">;</span>
<span class="k">use</span> <span class="w">warnings</span><span class="sc">;</span>
<span class="k">use</span> <span class="w">feature</span> <span class="q">qw( state switch )</span><span class="sc">;</span>
<span class="k">use</span> <span class="w">DoDump</span><span class="sc">;</span>
<span class="k">use</span> <span class="w">Fleet</span><span class="sc">;</span>
<span class="k">use</span> <span class="w">Tk</span><span class="sc">;</span>
<span class="k">use</span> <span class="w">Tk::LabFrame</span><span class="sc">;</span>
<span class="k">use</span> <span class="w">Tk::JPEG</span><span class="sc">;</span>
<span class="k">use</span> <span class="w">Tk::ROText</span><span class="sc">;</span>

<span class="k">my</span> <span class="s">(</span> <span class="i">$carX</span><span class="cm">,</span> <span class="i">$carY</span><span class="cm">,</span> <span class="i">$carO</span><span class="cm">,</span> <span class="i">$batX</span><span class="cm">,</span> <span class="i">$batY</span><span class="cm">,</span> <span class="i">$batO</span><span class="cm">,</span> <span class="i">$desX</span><span class="cm">,</span> <span class="i">$desY</span><span class="cm">,</span> <span class="i">$desO</span> <span class="s">)</span><span class="sc">;</span>
<span class="k">my</span> <span class="s">(</span> <span class="i">$subX</span><span class="cm">,</span> <span class="i">$subY</span><span class="cm">,</span> <span class="i">$subO</span><span class="cm">,</span> <span class="i">$patX</span><span class="cm">,</span> <span class="i">$patY</span><span class="cm">,</span> <span class="i">$patO</span> <span class="s">)</span><span class="sc">;</span>
<span class="k">my</span> <span class="s">(</span> <span class="i">$bFleet</span><span class="cm">,</span> <span class="i">$rFleet</span><span class="cm">,</span> <span class="i">@blFleet</span><span class="cm">,</span> <span class="i">@rdFleet</span> <span class="s">)</span><span class="sc">;</span>
<span class="k">my</span> <span class="s">(</span> <span class="i">@bBtnRefs</span><span class="cm">,</span> <span class="i">@rBtnRefs</span><span class="cm">,</span> <span class="i">@bPicks</span><span class="cm">,</span> <span class="i">@rPicks</span> <span class="s">)</span><span class="sc">;</span>
<span class="k">my</span> <span class="s">(</span> <span class="i">$mw_lblFont</span><span class="cm">,</span> <span class="i">$mg_lblFont</span><span class="cm">,</span> <span class="i">$ss_lblFont</span><span class="cm">,</span> <span class="i">$mg_status</span> <span class="s">)</span><span class="sc">;</span>
<span class="k">my</span> <span class="s">(</span> <span class="i">$ss_frlblFont</span><span class="cm">,</span> <span class="i">$ss_cordFont</span><span class="cm">,</span> <span class="i">$ss_btnWidth</span> <span class="s">)</span><span class="sc">;</span>
<span class="k">my</span> <span class="s">(</span> <span class="i">$mw_btnWidth</span><span class="cm">,</span> <span class="i">$mg_gbtnWidth</span><span class="cm">,</span> <span class="i">$mg_gbtnHeight</span> <span class="s">)</span><span class="sc">;</span>
<span class="k">my</span> <span class="i">$mwSplash</span> = <span class="q">&#39;Battleship_6x4.jpg&#39;</span><span class="sc">;</span>
<span class="k">my</span> <span class="i">$ttlColor</span> = <span class="q">&#39;black&#39;</span><span class="sc">;</span>
<span class="k">my</span> <span class="i">@fltColor</span> = <span class="s">(</span> <span class="q">&#39;dark blue&#39;</span><span class="cm">,</span> <span class="q">&#39;dark red&#39;</span> <span class="s">)</span><span class="sc">;</span>
<span class="w">state</span> <span class="i">$turn</span> = <span class="n">0</span><span class="sc">;</span>
<span class="k">given</span> <span class="s">(</span> <span class="i">$^O</span> <span class="s">)</span> <span class="s">{</span>
    <span class="k">when</span><span class="s">(</span><span class="q">/Win32/</span><span class="s">)</span> <span class="s">{</span>
        <span class="i">$mw_lblFont</span>     = <span class="s">[</span><span class="q">&#39;helvetica&#39;</span><span class="cm">,</span> <span class="q">&#39;18&#39;</span><span class="cm">,</span> <span class="q">&#39;bold&#39;</span><span class="s">]</span><span class="sc">;</span>
        <span class="i">$mg_lblFont</span>     = <span class="s">[</span><span class="q">&#39;helvetica&#39;</span><span class="cm">,</span> <span class="q">&#39;18&#39;</span><span class="cm">,</span> <span class="q">&#39;bold&#39;</span><span class="s">]</span><span class="sc">;</span>
        <span class="i">$ss_lblFont</span>     = <span class="s">[</span><span class="q">&#39;helvetica&#39;</span><span class="cm">,</span> <span class="q">&#39;18&#39;</span><span class="cm">,</span> <span class="q">&#39;bold&#39;</span><span class="s">]</span><span class="sc">;</span>
        <span class="i">$ss_frlblFont</span>   = <span class="s">[</span><span class="q">&#39;helvetica&#39;</span><span class="cm">,</span> <span class="q">&#39;10&#39;</span><span class="cm">,</span> <span class="q">&#39;bold&#39;</span><span class="s">]</span><span class="sc">;</span>
        <span class="i">$ss_cordFont</span>    = <span class="s">[</span><span class="q">&#39;helvetica&#39;</span><span class="cm">,</span> <span class="q">&#39;10&#39;</span><span class="cm">,</span> <span class="q">&#39;bold&#39;</span><span class="s">]</span><span class="sc">;</span>
        <span class="i">$mw_btnWidth</span>    = <span class="n">12</span><span class="sc">;</span>
        <span class="i">$ss_btnWidth</span>    = <span class="n">10</span><span class="sc">;</span>
        <span class="i">$mg_gbtnWidth</span>   = <span class="n">4</span><span class="sc">;</span>
        <span class="i">$mg_gbtnHeight</span>  = <span class="n">2</span><span class="sc">;</span>
        <span class="s">}</span><span class="sc">;</span>
    <span class="k">when</span> <span class="s">(</span><span class="q">/cygwin/</span><span class="s">)</span> <span class="s">{</span>
        <span class="i">$mw_lblFont</span>     = <span class="s">[</span><span class="q">&#39;helvetica&#39;</span><span class="cm">,</span> <span class="q">&#39;18&#39;</span><span class="cm">,</span> <span class="q">&#39;bold&#39;</span><span class="s">]</span><span class="sc">;</span>
        <span class="i">$mg_lblFont</span>     = <span class="s">[</span><span class="q">&#39;helvetica&#39;</span><span class="cm">,</span> <span class="q">&#39;18&#39;</span><span class="cm">,</span> <span class="q">&#39;bold&#39;</span><span class="s">]</span><span class="sc">;</span>
        <span class="i">$ss_lblFont</span>     = <span class="s">[</span><span class="q">&#39;helvetica&#39;</span><span class="cm">,</span> <span class="q">&#39;18&#39;</span><span class="cm">,</span> <span class="q">&#39;bold&#39;</span><span class="s">]</span><span class="sc">;</span>
        <span class="i">$ss_frlblFont</span>   = <span class="s">[</span><span class="q">&#39;helvetica&#39;</span><span class="cm">,</span> <span class="q">&#39;12&#39;</span><span class="cm">,</span> <span class="q">&#39;bold&#39;</span><span class="s">]</span><span class="sc">;</span>
        <span class="i">$ss_cordFont</span>    = <span class="s">[</span><span class="q">&#39;helvetica&#39;</span><span class="cm">,</span> <span class="q">&#39;10&#39;</span><span class="cm">,</span> <span class="q">&#39;bold&#39;</span><span class="s">]</span><span class="sc">;</span>
        <span class="i">$mw_btnWidth</span>    = <span class="n">8</span><span class="sc">;</span>
        <span class="i">$ss_btnWidth</span>    = <span class="n">8</span><span class="sc">;</span>
        <span class="i">$mg_gbtnWidth</span>   = <span class="n">2</span><span class="sc">;</span>
        <span class="i">$mg_gbtnHeight</span>  = <span class="n">2</span><span class="sc">;</span>
        <span class="s">}</span><span class="sc">;</span>
    <span class="i">default</span>       <span class="s">{</span>
        <span class="i">$mw_lblFont</span>     = <span class="s">[</span><span class="q">&#39;helvetica&#39;</span><span class="cm">,</span> <span class="q">&#39;20&#39;</span><span class="cm">,</span> <span class="q">&#39;bold&#39;</span><span class="s">]</span><span class="sc">;</span>
        <span class="i">$mg_lblFont</span>     = <span class="s">[</span><span class="q">&#39;helvetica&#39;</span><span class="cm">,</span> <span class="q">&#39;18&#39;</span><span class="cm">,</span> <span class="q">&#39;bold&#39;</span><span class="s">]</span><span class="sc">;</span>
        <span class="i">$ss_lblFont</span>     = <span class="s">[</span><span class="q">&#39;helvetica&#39;</span><span class="cm">,</span> <span class="q">&#39;20&#39;</span><span class="cm">,</span> <span class="q">&#39;bold&#39;</span><span class="s">]</span><span class="sc">;</span>
        <span class="i">$ss_frlblFont</span>   = <span class="s">[</span><span class="q">&#39;helvetica&#39;</span><span class="cm">,</span> <span class="q">&#39;12&#39;</span><span class="cm">,</span> <span class="q">&#39;bold&#39;</span><span class="s">]</span><span class="sc">;</span>
        <span class="i">$ss_cordFont</span>    = <span class="s">[</span><span class="q">&#39;helvetica&#39;</span><span class="cm">,</span> <span class="q">&#39;10&#39;</span><span class="cm">,</span> <span class="q">&#39;bold&#39;</span><span class="s">]</span><span class="sc">;</span>
        <span class="i">$mw_btnWidth</span>    = <span class="n">8</span><span class="sc">;</span>
        <span class="i">$ss_btnWidth</span>    = <span class="n">8</span><span class="sc">;</span>
        <span class="i">$mg_gbtnWidth</span>   = <span class="n">2</span><span class="sc">;</span>
        <span class="i">$mg_gbtnHeight</span>  = <span class="n">2</span><span class="sc">;</span>
        <span class="s">}</span><span class="sc">;</span>
<span class="s">}</span><span class="sc">;</span>

<span class="k">my</span> <span class="i">$mw</span> = <span class="w">MainWindow</span><span class="w">-&gt;new</span><span class="s">(</span> -<span class="w">title</span> <span class="cm">=&gt;</span> <span class="q">&#39;Battleship&#39;</span> <span class="s">)</span><span class="sc">;</span>
   <span class="i">$mw</span><span class="i">-&gt;geometry</span><span class="s">(</span><span class="q">&#39;640x480+50+50&#39;</span><span class="s">)</span><span class="sc">;</span>
   <span class="i">$mw</span><span class="i">-&gt;resizable</span><span class="s">(</span><span class="n">0</span><span class="cm">,</span><span class="n">0</span><span class="s">)</span><span class="sc">;</span>

<span class="k">my</span> <span class="i">$mwCan</span> = <span class="i">$mw</span><span class="i">-&gt;Canvas</span><span class="s">(</span> -<span class="w">width</span> <span class="cm">=&gt;</span> <span class="n">1</span><span class="cm">,</span> -<span class="w">height</span> <span class="cm">=&gt;</span> <span class="n">1</span><span class="cm">,</span>
   <span class="s">)</span><span class="i">-&gt;pack</span><span class="sc">;</span>
<span class="k">my</span> <span class="i">$mwImg</span> = <span class="i">$mw</span><span class="i">-&gt;Photo</span><span class="s">(</span> -<span class="w">file</span> <span class="cm">=&gt;</span> <span class="i">$mwSplash</span> <span class="s">)</span><span class="sc">;</span>
   <span class="i">$mwCan</span><span class="i">-&gt;createImage</span><span class="s">(</span> <span class="n">0</span><span class="cm">,</span> <span class="n">0</span><span class="cm">,</span> -<span class="w">image</span> <span class="cm">=&gt;</span> <span class="i">$mwImg</span><span class="cm">,</span> -<span class="w">anchor</span> <span class="cm">=&gt;</span> <span class="q">&#39;nw&#39;</span> <span class="s">)</span><span class="sc">;</span>
   <span class="i">$mwCan</span><span class="i">-&gt;configure</span><span class="s">(</span>
        -<span class="w">width</span>  <span class="cm">=&gt;</span> <span class="i">$mwImg</span><span class="i">-&gt;width</span><span class="cm">,</span>
        -<span class="w">height</span> <span class="cm">=&gt;</span> <span class="i">$mwImg</span><span class="i">-&gt;height</span><span class="cm">,</span>
        -<span class="w">scrollregion</span> <span class="cm">=&gt;</span> <span class="s">[</span> <span class="n">0</span><span class="cm">,</span> <span class="n">0</span><span class="cm">,</span> <span class="i">$mwImg</span><span class="i">-&gt;width</span><span class="cm">,</span>
                                <span class="i">$mwImg</span><span class="i">-&gt;height</span> - <span class="n">2</span><span class="cm">,</span>
                         <span class="s">]</span><span class="cm">,</span>
   <span class="s">)</span><span class="sc">;</span>
<span class="k">my</span> <span class="i">$canLbl</span> = <span class="i">$mwCan</span><span class="i">-&gt;Label</span><span class="s">(</span>
        -<span class="w">text</span> <span class="cm">=&gt;</span> <span class="q">&#39;Battleship - The Game ... the Experience&#39;</span><span class="cm">,</span>
        -<span class="w">font</span> <span class="cm">=&gt;</span> <span class="i">$mw_lblFont</span><span class="cm">,</span>
        -<span class="w">background</span> <span class="cm">=&gt;</span> <span class="q">&#39;light blue&#39;</span><span class="cm">,</span>
        -<span class="w">foreground</span> <span class="cm">=&gt;</span> <span class="i">$ttlColor</span><span class="cm">,</span>
   <span class="s">)</span><span class="i">-&gt;pack</span><span class="sc">;</span>
   <span class="i">$mwCan</span><span class="i">-&gt;createWindow</span><span class="s">(</span> <span class="n">250</span><span class="cm">,</span><span class="n">50</span><span class="cm">,</span> -<span class="w">window</span> <span class="cm">=&gt;</span> <span class="i">$canLbl</span> <span class="s">)</span><span class="sc">;</span>

<span class="k">my</span> <span class="i">$canOne</span> = <span class="i">$mwCan</span><span class="i">-&gt;Button</span><span class="s">(</span>
        -<span class="w">text</span>    <span class="cm">=&gt;</span> <span class="q">&#39;One Player&#39;</span><span class="cm">,</span>
        -<span class="w">width</span>   <span class="cm">=&gt;</span> <span class="i">$mw_btnWidth</span><span class="cm">,</span>
        -<span class="w">command</span> <span class="cm">=&gt;</span> <span class="s">[</span> \<span class="i">&amp;setShips</span><span class="cm">,</span> <span class="n">0</span> <span class="s">]</span>
   <span class="s">)</span><span class="sc">;</span>
   <span class="i">$mwCan</span><span class="i">-&gt;createWindow</span><span class="s">(</span> <span class="n">75</span><span class="cm">,</span><span class="n">100</span><span class="cm">,</span> -<span class="w">window</span>  <span class="cm">=&gt;</span> <span class="i">$canOne</span> <span class="s">)</span><span class="sc">;</span>
<span class="k">my</span> <span class="i">$canTwo</span> = <span class="i">$mwCan</span><span class="i">-&gt;Button</span><span class="s">(</span>
        -<span class="w">text</span>    <span class="cm">=&gt;</span> <span class="q">&#39;Two Player&#39;</span><span class="cm">,</span>
        -<span class="w">width</span>   <span class="cm">=&gt;</span> <span class="i">$mw_btnWidth</span><span class="cm">,</span>
        -<span class="w">command</span> <span class="cm">=&gt;</span> <span class="s">[</span> \<span class="i">&amp;setShips</span><span class="cm">,</span> <span class="n">1</span> <span class="s">]</span>
   <span class="s">)</span><span class="sc">;</span>
   <span class="i">$mwCan</span><span class="i">-&gt;createWindow</span><span class="s">(</span> <span class="n">175</span><span class="cm">,</span><span class="n">100</span><span class="cm">,</span> -<span class="w">window</span> <span class="cm">=&gt;</span> <span class="i">$canTwo</span> <span class="s">)</span><span class="sc">;</span>
<span class="k">my</span> <span class="i">$canHow</span> = <span class="i">$mwCan</span><span class="i">-&gt;Button</span><span class="s">(</span>
        -<span class="w">text</span>    <span class="cm">=&gt;</span> <span class="q">&#39;How to Play&#39;</span><span class="cm">,</span>
        -<span class="w">width</span>   <span class="cm">=&gt;</span> <span class="i">$mw_btnWidth</span><span class="cm">,</span>
        -<span class="w">command</span> <span class="cm">=&gt;</span> <span class="k">sub</span> <span class="s">{</span> <span class="k">print</span> <span class="q">&quot;I know how, already!\n&quot;</span><span class="sc">;</span> <span class="s">}</span>
   <span class="s">)</span><span class="sc">;</span>
   <span class="i">$mwCan</span><span class="i">-&gt;createWindow</span><span class="s">(</span> <span class="n">275</span><span class="cm">,</span><span class="n">100</span><span class="cm">,</span> -<span class="w">window</span> <span class="cm">=&gt;</span> <span class="i">$canHow</span> <span class="s">)</span><span class="sc">;</span>
<span class="k">my</span> <span class="i">$canExit</span> = <span class="i">$mwCan</span><span class="i">-&gt;Button</span><span class="s">(</span>
        -<span class="w">text</span>    <span class="cm">=&gt;</span> <span class="q">&#39;Exit&#39;</span><span class="cm">,</span>
        -<span class="w">width</span>   <span class="cm">=&gt;</span> <span class="i">$mw_btnWidth</span><span class="cm">,</span>
        -<span class="w">command</span> <span class="cm">=&gt;</span> <span class="k">sub</span> <span class="s">{</span> <span class="i">$mw</span><span class="i">-&gt;destroy</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span> <span class="s">}</span>
   <span class="s">)</span><span class="sc">;</span>
   <span class="i">$mwCan</span><span class="i">-&gt;createWindow</span><span class="s">(</span> <span class="n">375</span><span class="cm">,</span><span class="n">100</span><span class="cm">,</span> -<span class="w">window</span> <span class="cm">=&gt;</span> <span class="i">$canExit</span> <span class="s">)</span><span class="sc">;</span>

<span class="w">MainLoop</span><span class="sc">;</span>

<span class="k">do</span> <span class="s">{</span>
    <span class="i">Fleet::showStatus</span><span class="s">(</span> <span class="i">$bFleet</span><span class="cm">,</span> <span class="i">$rFleet</span> <span class="s">)</span><span class="sc">;</span>
<span class="c">#     do_dump( {%$bFleet}, &quot;Blue&quot; . ref($bFleet));</span>
<span class="c">#     do_dump( {%$rFleet}, &quot;Red&quot;  . ref($rFleet));</span>
<span class="s">}</span> <span class="k">if</span> <span class="s">(</span> <span class="i">@blFleet</span> &amp;&amp; <span class="i">@rdFleet</span> <span class="s">)</span><span class="sc">;</span>

<span class="k">exit</span><span class="sc">;</span>
<span class="c">### functions ###</span>
<a name="makeGrid-"></a><span class="k">sub </span><span class="m">makeGrid</span> <span class="s">{</span>
    <span class="k">my</span> <span class="i">$plyrs</span> = <span class="k">shift</span><span class="sc">;</span>
    <span class="k">do</span> <span class="s">{</span>
        <span class="i">Fleet::showStatus</span><span class="s">(</span> <span class="i">$bFleet</span><span class="cm">,</span> <span class="i">$rFleet</span> <span class="s">)</span><span class="sc">;</span>
<span class="c">#     do_dump( {%$bFleet}, &quot;Blue&quot; . ref($bFleet));</span>
<span class="c">#     do_dump( {%$rFleet}, &quot;Red&quot;  . ref($rFleet));</span>
    <span class="s">}</span> <span class="k">if</span> <span class="s">(</span> <span class="i">@blFleet</span> &amp;&amp; <span class="i">@rdFleet</span> <span class="s">)</span><span class="sc">;</span>
    <span class="k">my</span> <span class="s">(</span> <span class="i">$bState</span><span class="cm">,</span> <span class="i">$bBack</span><span class="cm">,</span> <span class="i">$rState</span><span class="cm">,</span> <span class="i">$rBack</span><span class="cm">,</span> <span class="i">$status</span> <span class="s">)</span>
        = <span class="s">(</span> <span class="i">$plyrs</span> <span class="s">)</span>
            ? <span class="s">(</span> <span class="q">&#39;disabled&#39;</span><span class="cm">,</span> <span class="q">&#39;gray&#39;</span><span class="cm">,</span> <span class="q">&#39;normal&#39;</span><span class="cm">,</span> <span class="q">&#39;indian red&#39;</span> <span class="s">)</span> 
            <span class="co">:</span> <span class="s">(</span> <span class="q">&#39;normal&#39;</span><span class="cm">,</span> <span class="q">&#39;light blue&#39;</span><span class="cm">,</span> <span class="q">&#39;disabled&#39;</span><span class="cm">,</span> <span class="q">&#39;gray&#39;</span> <span class="s">)</span><span class="sc">;</span> 
    <span class="k">my</span> <span class="i">$mg_tl</span> = <span class="i">$mw</span><span class="i">-&gt;Toplevel</span><span class="s">(</span> -<span class="w">title</span> <span class="cm">=&gt;</span> <span class="q">&#39;BATTLESHIP!&#39;</span> <span class="s">)</span><span class="sc">;</span>
    <span class="i">$mg_tl</span><span class="i">-&gt;geometry</span><span class="s">(</span><span class="q">&#39;1000x600+200+50&#39;</span><span class="s">)</span><span class="sc">;</span>
    <span class="i">$mg_tl</span><span class="i">-&gt;resizable</span><span class="s">(</span><span class="n">0</span><span class="cm">,</span><span class="n">0</span><span class="s">)</span><span class="sc">;</span>
    <span class="i">$mg_tl</span><span class="i">-&gt;Label</span><span class="s">(</span>
        -<span class="w">text</span> <span class="cm">=&gt;</span> <span class="q">&#39;BATTLESHIP&#39;</span><span class="cm">,</span>
        -<span class="w">font</span> <span class="cm">=&gt;</span> <span class="i">$mg_lblFont</span><span class="cm">,</span>
        -<span class="w">foreground</span>  <span class="cm">=&gt;</span> <span class="q">&#39;black&#39;</span><span class="cm">,</span>
    <span class="s">)</span><span class="i">-&gt;pack</span><span class="s">(</span> -<span class="w">side</span>   <span class="cm">=&gt;</span> <span class="q">&#39;top&#39;</span><span class="cm">,</span>
             -<span class="w">expand</span> <span class="cm">=&gt;</span> <span class="q">&#39;0&#39;</span><span class="cm">,</span>
           <span class="s">)</span><span class="sc">;</span>
    <span class="i">$mg_status</span> = <span class="i">$mg_tl</span><span class="i">-&gt;Label</span><span class="s">(</span>
        -<span class="w">text</span>        <span class="cm">=&gt;</span> <span class="i">$status</span><span class="cm">,</span>
        -<span class="w">font</span>        <span class="cm">=&gt;</span> <span class="i">$mg_lblFont</span><span class="cm">,</span>
        -<span class="w">foreground</span>  <span class="cm">=&gt;</span> <span class="q">&#39;black&#39;</span>
    <span class="s">)</span><span class="i">-&gt;pack</span><span class="s">(</span> -<span class="w">side</span>   <span class="cm">=&gt;</span> <span class="q">&#39;top&#39;</span><span class="cm">,</span>
             -<span class="w">expand</span> <span class="cm">=&gt;</span> <span class="q">&#39;0&#39;</span><span class="cm">,</span>
           <span class="s">)</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$mg_exit_b</span> = <span class="i">$mg_tl</span><span class="i">-&gt;Button</span><span class="s">(</span>
        -<span class="w">text</span>    <span class="cm">=&gt;</span> <span class="q">&#39;Exit&#39;</span><span class="cm">,</span>
        -<span class="w">command</span> <span class="cm">=&gt;</span> <span class="k">sub</span> <span class="s">{</span> <span class="i">clrFleet</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>
                          <span class="i">$mg_tl</span><span class="i">-&gt;destroy</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>
                          <span class="i">$mw</span><span class="i">-&gt;deiconify</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>
                    <span class="s">}</span>
    <span class="s">)</span><span class="i">-&gt;pack</span><span class="sc">;</span>
    <span class="k">my</span> <span class="s">(</span> <span class="i">$blueFrame</span><span class="cm">,</span> <span class="i">$redFrame</span><span class="cm">,</span> <span class="i">$blHitFrame</span><span class="cm">,</span> <span class="i">$rdHitFrame</span> <span class="s">)</span><span class="sc">;</span>
    <span class="i">$blueFrame</span> = <span class="i">$mg_tl</span><span class="i">-&gt;Frame</span><span class="sc">;</span>
    <span class="i">$redFrame</span>  = <span class="i">$mg_tl</span><span class="i">-&gt;Frame</span><span class="sc">;</span>
<span class="c">### Blue Grid</span>
    <span class="k">for</span> <span class="k">my</span> <span class="i">$row</span> <span class="s">(</span> <span class="n">0</span> .. <span class="n">9</span> <span class="s">)</span> <span class="s">{</span>
        <span class="k">for</span> <span class="k">my</span> <span class="i">$col</span> <span class="s">(</span> <span class="n">0</span> .. <span class="n">9</span> <span class="s">)</span> <span class="s">{</span>
            <span class="i">$blueFrame</span><span class="i">-&gt;Button</span><span class="s">(</span>
                -<span class="w">text</span>       <span class="cm">=&gt;</span> <span class="i">$col</span> . <span class="i">$row</span><span class="cm">,</span> 
                -<span class="w">width</span>      <span class="cm">=&gt;</span> <span class="i">$mg_gbtnWidth</span><span class="cm">,</span>
                -<span class="w">height</span>     <span class="cm">=&gt;</span> <span class="i">$mg_gbtnHeight</span><span class="cm">,</span>
                -<span class="w">background</span> <span class="cm">=&gt;</span> <span class="i">$bBack</span><span class="cm">,</span>
                -<span class="w">state</span>      <span class="cm">=&gt;</span> <span class="i">$bState</span><span class="cm">,</span>
                -<span class="w">command</span>    <span class="cm">=&gt;</span> <span class="s">[</span> \<span class="i">&amp;goCheck</span> <span class="s">]</span><span class="cm">,</span>
            <span class="s">)</span><span class="i">-&gt;grid</span><span class="s">(</span> -<span class="w">row</span> <span class="cm">=&gt;</span> <span class="i">$row</span><span class="cm">,</span> -<span class="w">column</span> <span class="cm">=&gt;</span> <span class="i">$col</span> <span class="s">)</span><span class="sc">;</span>
        <span class="s">}</span>
    <span class="s">}</span>
<span class="c">### Red Grid</span>
    <span class="k">for</span> <span class="k">my</span> <span class="i">$row</span> <span class="s">(</span> <span class="n">0</span> .. <span class="n">9</span> <span class="s">)</span> <span class="s">{</span>
        <span class="k">for</span> <span class="k">my</span> <span class="i">$col</span> <span class="s">(</span> <span class="n">0</span> .. <span class="n">9</span> <span class="s">)</span> <span class="s">{</span>
            <span class="i">$redFrame</span><span class="i">-&gt;Button</span><span class="s">(</span>
                -<span class="w">text</span>       <span class="cm">=&gt;</span> <span class="i">$col</span> . <span class="i">$row</span><span class="cm">,</span>
                -<span class="w">width</span>      <span class="cm">=&gt;</span> <span class="i">$mg_gbtnWidth</span><span class="cm">,</span>
                -<span class="w">height</span>     <span class="cm">=&gt;</span> <span class="i">$mg_gbtnHeight</span><span class="cm">,</span>
                -<span class="w">background</span> <span class="cm">=&gt;</span> <span class="i">$rBack</span><span class="cm">,</span>
                -<span class="w">state</span>      <span class="cm">=&gt;</span> <span class="i">$rState</span><span class="cm">,</span>
                -<span class="w">command</span>    <span class="cm">=&gt;</span> <span class="s">[</span> \<span class="i">&amp;goCheck</span> <span class="s">]</span><span class="cm">,</span>
            <span class="s">)</span><span class="i">-&gt;grid</span><span class="s">(</span> -<span class="w">row</span> <span class="cm">=&gt;</span> <span class="i">$row</span><span class="cm">,</span> -<span class="w">column</span> <span class="cm">=&gt;</span> <span class="i">$col</span> <span class="s">)</span><span class="sc">;</span>
        <span class="s">}</span>
    <span class="s">}</span>

    <span class="i">$blueFrame</span><span class="i">-&gt;pack</span><span class="s">(</span> -<span class="w">side</span> <span class="cm">=&gt;</span> <span class="q">&#39;left&#39;</span><span class="cm">,</span>  -<span class="w">padx</span> <span class="cm">=&gt;</span> <span class="q">&#39;10&#39;</span> <span class="s">)</span><span class="sc">;</span>
    <span class="i">$redFrame</span><span class="i">-&gt;pack</span><span class="s">(</span> -<span class="w">side</span>  <span class="cm">=&gt;</span> <span class="q">&#39;right&#39;</span><span class="cm">,</span> -<span class="w">padx</span> <span class="cm">=&gt;</span> <span class="q">&#39;10&#39;</span> <span class="s">)</span><span class="sc">;</span>
    <span class="i">@bBtnRefs</span> = <span class="i">$blueFrame</span><span class="i">-&gt;gridSlaves</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>
    <span class="i">@rBtnRefs</span> = <span class="i">$redFrame</span><span class="i">-&gt;gridSlaves</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>
    <span class="k">return</span><span class="sc">;</span>
<span class="s">}</span>
<a name="goCheck-"></a><span class="k">sub </span><span class="m">goCheck</span> <span class="s">{</span>
    <span class="k">my</span> <span class="i">$this</span> = <span class="i">$Tk::widget</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$pick</span> = <span class="i">$this</span><span class="i">-&gt;cget</span><span class="s">(</span> -<span class="w">text</span> <span class="s">)</span><span class="sc">;</span>
    <span class="i">$turn</span> ? <span class="k">do</span> <span class="s">{</span> <span class="k">my</span> <span class="i">$lbl</span> = <span class="i">$rFleet</span><span class="i">-&gt;hitCheck</span><span class="s">(</span> <span class="i">$pick</span> <span class="s">)</span>
                     ? <span class="q">&#39;X&#39;</span>
                     <span class="co">:</span> <span class="q">&#39;O&#39;</span><span class="sc">;</span>
                 <span class="k">push</span> <span class="i">@rPicks</span><span class="cm">,</span> <span class="i">$this</span><span class="sc">;</span>
                 <span class="i">$this</span><span class="i">-&gt;configure</span><span class="s">(</span> -<span class="w">text</span> <span class="cm">=&gt;</span> <span class="i">$lbl</span> <span class="s">)</span><span class="sc">;</span>
            <span class="s">}</span>
          <span class="co">:</span> <span class="k">do</span> <span class="s">{</span> <span class="k">my</span> <span class="i">$lbl</span> = <span class="i">$bFleet</span><span class="i">-&gt;hitCheck</span><span class="s">(</span> <span class="i">$pick</span> <span class="s">)</span>
                     ? <span class="q">&#39;X&#39;</span>
                     <span class="co">:</span> <span class="q">&#39;O&#39;</span><span class="sc">;</span>
                 <span class="k">push</span> <span class="i">@bPicks</span><span class="cm">,</span> <span class="i">$this</span><span class="sc">;</span>
                 <span class="i">$this</span><span class="i">-&gt;configure</span><span class="s">(</span> -<span class="w">text</span> <span class="cm">=&gt;</span> <span class="i">$lbl</span> <span class="s">)</span><span class="sc">;</span>
            <span class="s">}</span><span class="sc">;</span>
    <span class="i">toggleButtons</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>
    <span class="i">endGame</span><span class="s">(</span> <span class="i">$mg_status</span> <span class="s">)</span> <span class="k">unless</span> <span class="s">(</span> <span class="i">$bFleet</span><span class="i">-&gt;flEmpty</span> &amp;&amp; <span class="i">$rFleet</span><span class="i">-&gt;flEmpty</span> <span class="s">)</span><span class="sc">;</span>
    <span class="i">$this</span><span class="i">-&gt;configure</span><span class="s">(</span> -<span class="w">state</span> <span class="cm">=&gt;</span> <span class="q">&#39;disabled&#39;</span> <span class="s">)</span><span class="sc">;</span>
    <span class="k">return</span><span class="sc">;</span>
<span class="s">}</span>
<a name="disBtns-"></a><span class="k">sub </span><span class="m">disBtns</span> <span class="s">{</span>
    <span class="k">my</span> <span class="i">@list</span> = <span class="s">(</span> <span class="i">@_</span> <span class="s">)</span><span class="sc">;</span>
    <span class="k">for</span> <span class="s">(</span> <span class="n">0</span> .. <span class="n">1</span> <span class="s">)</span> <span class="s">{</span>
        <span class="k">foreach</span> <span class="k">my</span> <span class="i">$btn</span> <span class="s">(</span> <span class="i">@</span>{<span class="i">$list</span>[<span class="i">$_</span>]} <span class="s">)</span> <span class="s">{</span>
            <span class="i">$_</span> ? <span class="i">$btn</span><span class="i">-&gt;configure</span><span class="s">(</span> -<span class="w">state</span> <span class="cm">=&gt;</span> <span class="q">&#39;disable&#39;</span> <span class="s">)</span>
               <span class="co">:</span> <span class="i">$btn</span><span class="i">-&gt;configure</span><span class="s">(</span> -<span class="w">state</span> <span class="cm">=&gt;</span> <span class="q">&#39;normal&#39;</span>  <span class="s">)</span><span class="sc">;</span>
        <span class="s">}</span>
    <span class="s">}</span>
    <span class="i">$turn</span> = !<span class="s">(</span> <span class="i">$turn</span> <span class="s">)</span><span class="sc">;</span>
    <span class="k">return</span><span class="sc">;</span>
<span class="s">}</span>
<a name="toggleButtons-"></a><span class="k">sub </span><span class="m">toggleButtons</span> <span class="s">{</span>
    <span class="k">my</span> <span class="i">$bg</span> = <span class="q">&#39;light blue&#39;</span><span class="sc">;</span>
    <span class="k">for</span> <span class="k">my</span> <span class="i">$list</span> <span class="s">(</span> \<span class="i">@bBtnRefs</span><span class="cm">,</span> \<span class="i">@rBtnRefs</span> <span class="s">)</span> <span class="s">{</span>
        <span class="k">my</span> <span class="s">(</span><span class="i">$state</span><span class="cm">,</span> <span class="i">$background</span><span class="s">)</span> = <span class="q">&#39;disabled&#39;</span> <span class="k">eq</span> <span class="i">$list</span>-&gt;[<span class="n">0</span>]<span class="i">-&gt;cget</span><span class="s">(</span> <span class="q">&#39;-state&#39;</span> <span class="s">)</span>
                                   ? <span class="s">(</span> <span class="q">&#39;normal&#39;</span><span class="cm">,</span> <span class="i">$bg</span> <span class="s">)</span>
                                   <span class="co">:</span> <span class="q">qw/disabled gray/</span><span class="sc">;</span>
        <span class="k">for</span> <span class="k">my</span> <span class="i">$button</span> <span class="s">(</span><span class="i">@$list</span><span class="s">)</span> <span class="s">{</span>
            <span class="i">$button</span><span class="i">-&gt;configure</span><span class="s">(</span> -<span class="w">state</span>      <span class="cm">=&gt;</span> <span class="i">$state</span><span class="cm">,</span>
                                -<span class="w">background</span> <span class="cm">=&gt;</span> <span class="i">$background</span> <span class="s">)</span><span class="sc">;</span>
        <span class="s">}</span>
        <span class="i">$bg</span> = <span class="q">&#39;indian red&#39;</span><span class="sc">;</span>
    <span class="s">}</span>
    <span class="k">for</span> <span class="k">my</span> <span class="i">$picks</span> <span class="s">(</span> \<span class="i">@bPicks</span><span class="cm">,</span> \<span class="i">@rPicks</span> <span class="s">)</span> <span class="s">{</span>
        <span class="k">for</span> <span class="k">my</span> <span class="i">$button</span> <span class="s">(</span> <span class="i">@$picks</span> <span class="s">)</span> <span class="s">{</span>
            <span class="i">$button</span><span class="i">-&gt;configure</span><span class="s">(</span> -<span class="w">state</span>      <span class="cm">=&gt;</span> <span class="q">&#39;disabled&#39;</span><span class="cm">,</span>
                                -<span class="w">background</span> <span class="cm">=&gt;</span> <span class="q">&#39;gray&#39;</span> <span class="s">)</span><span class="sc">;</span>
        <span class="s">}</span>
    <span class="s">}</span>
    <span class="i">$turn</span> = !<span class="s">(</span> <span class="i">$turn</span> <span class="s">)</span><span class="sc">;</span>
    <span class="k">return</span><span class="sc">;</span>
<span class="s">}</span>
<a name="clrFleet-"></a><span class="k">sub </span><span class="m">clrFleet</span> <span class="s">{</span>
    <span class="s">(</span> <span class="i">$bFleet</span><span class="cm">,</span> <span class="i">$rFleet</span><span class="cm">,</span> <span class="i">@blFleet</span><span class="cm">,</span> <span class="i">@rdFleet</span><span class="cm">,</span> <span class="i">@bBtnRefs</span><span class="cm">,</span> <span class="i">@rBtnRefs</span><span class="cm">,</span> <span class="i">@bPicks</span><span class="cm">,</span> <span class="i">@rPicks</span> <span class="s">)</span>
        = <span class="s">(</span> <span class="k">undef</span> <span class="s">)</span> x <span class="s">(</span><span class="n">8</span><span class="s">)</span><span class="sc">;</span>
    <span class="k">return</span><span class="sc">;</span>
<span class="s">}</span>
<a name="endGame-"></a><span class="k">sub </span><span class="m">endGame</span> <span class="s">{</span>
    <span class="k">my</span> <span class="i">$mg_status</span> = <span class="k">shift</span><span class="sc">;</span>
    <span class="i">disBtns</span><span class="s">(</span> \<span class="i">@bBtnRefs</span><span class="cm">,</span> \<span class="i">@rBtnRefs</span> <span class="s">)</span><span class="sc">;</span>
    <span class="i">$mg_status</span><span class="i">-&gt;configure</span><span class="s">(</span> -<span class="w">text</span> <span class="cm">=&gt;</span> <span class="q">&#39;Game Over&#39;</span> <span class="s">)</span><span class="sc">;</span>
    <span class="i">Fleet::showResults</span><span class="s">(</span> <span class="i">$bFleet</span><span class="cm">,</span> <span class="i">$rFleet</span> <span class="s">)</span><span class="sc">;</span>
    <span class="k">return</span><span class="sc">;</span>
<span class="s">}</span>    
<a name="setShips-"></a><span class="k">sub </span><span class="m">setShips</span> <span class="s">{</span>
    <span class="k">my</span> <span class="i">$plyrs</span> = <span class="k">shift</span><span class="sc">;</span>
    <span class="k">my</span> <span class="s">(</span> <span class="i">$ss_tl</span><span class="cm">,</span> <span class="i">$coordFrame</span><span class="cm">,</span> <span class="i">$canvasFrame</span><span class="cm">,</span> <span class="i">$textFrame</span> <span class="s">)</span><span class="sc">;</span>
    <span class="k">my</span> <span class="s">(</span> <span class="i">$chkCanvas</span><span class="cm">,</span> <span class="i">$doneCanvas</span><span class="cm">,</span> <span class="i">$chkGrid</span><span class="cm">,</span> <span class="i">$chkText</span> <span class="s">)</span><span class="sc">;</span>
    <span class="i">$mw</span><span class="i">-&gt;iconify</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>
    <span class="i">$ss_tl</span> = <span class="i">$mw</span><span class="i">-&gt;Toplevel</span><span class="s">(</span> -<span class="w">title</span> <span class="cm">=&gt;</span> <span class="q">&#39;Battleship Coordinates Input Screen&#39;</span> <span class="s">)</span><span class="sc">;</span>
    <span class="i">$ss_tl</span><span class="i">-&gt;geometry</span><span class="s">(</span> <span class="q">&#39;500x250+200+100&#39;</span> <span class="s">)</span><span class="sc">;</span>
    <span class="i">$ss_tl</span><span class="i">-&gt;resizable</span><span class="s">(</span> <span class="n">0</span><span class="cm">,</span><span class="n">0</span> <span class="s">)</span><span class="sc">;</span>
    <span class="i">$ss_tl</span><span class="i">-&gt;Label</span><span class="s">(</span> -<span class="w">text</span> <span class="cm">=&gt;</span> <span class="q">&#39;Battleship Coordinates Input Screen&#39;</span><span class="cm">,</span>
                   -<span class="w">font</span> <span class="cm">=&gt;</span> <span class="i">$ss_lblFont</span><span class="cm">,</span>
                   -<span class="w">foreground</span> <span class="cm">=&gt;</span> <span class="i">$fltColor</span>[<span class="i">$plyrs</span>]
                 <span class="s">)</span><span class="i">-&gt;pack</span><span class="s">(</span> -<span class="w">side</span> <span class="cm">=&gt;</span> <span class="q">&#39;top&#39;</span><span class="cm">,</span>
                          -<span class="w">expand</span> <span class="cm">=&gt;</span> <span class="q">&#39;1&#39;</span><span class="cm">,</span>
                        <span class="s">)</span><span class="sc">;</span>

    <span class="i">$coordFrame</span>  = <span class="i">$ss_tl</span><span class="i">-&gt;LabFrame</span><span class="s">(</span> -<span class="w">label</span> <span class="cm">=&gt;</span> <span class="q">&#39;Start Point and Coordinates&#39;</span><span class="cm">,</span>
                                     -<span class="w">padx</span>  <span class="cm">=&gt;</span> <span class="n">5</span><span class="cm">,</span>
                                     -<span class="w">pady</span>  <span class="cm">=&gt;</span> <span class="n">5</span><span class="cm">,</span>
                                     -<span class="w">font</span>  <span class="cm">=&gt;</span> <span class="i">$ss_frlblFont</span><span class="cm">,</span>
                                     -<span class="w">labelside</span> <span class="cm">=&gt;</span> <span class="q">&#39;top&#39;</span> <span class="s">)</span><span class="sc">;</span>
    <span class="i">$canvasFrame</span> = <span class="i">$ss_tl</span><span class="i">-&gt;Frame</span><span class="sc">;</span>
    <span class="i">$textFrame</span>   = <span class="i">$ss_tl</span><span class="i">-&gt;LabFrame</span><span class="s">(</span> -<span class="w">label</span> <span class="cm">=&gt;</span> <span class="q">&#39;Fleet Coordinates&#39;</span><span class="cm">,</span>
                                     -<span class="w">font</span>  <span class="cm">=&gt;</span> <span class="i">$ss_frlblFont</span><span class="cm">,</span>
                                     -<span class="w">labelside</span> <span class="cm">=&gt;</span> <span class="q">&#39;top&#39;</span> <span class="s">)</span><span class="sc">;</span>

<span class="c">### Carrier Row</span>
    <span class="i">$coordFrame</span><span class="i">-&gt;Label</span><span class="s">(</span> -<span class="w">text</span> <span class="cm">=&gt;</span> <span class="q">&#39;Carrier(5)-&#39;</span><span class="cm">,</span>
                        -<span class="w">font</span> <span class="cm">=&gt;</span> <span class="i">$ss_cordFont</span><span class="cm">,</span>
                        -<span class="w">foreground</span> <span class="cm">=&gt;</span> <span class="i">$fltColor</span>[<span class="i">$plyrs</span>]
    <span class="s">)</span><span class="i">-&gt;grid</span><span class="s">(</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Label</span><span class="s">(</span> -<span class="w">text</span> <span class="cm">=&gt;</span> <span class="q">&#39;X:&#39;</span><span class="cm">,</span> -<span class="w">font</span> <span class="cm">=&gt;</span> <span class="i">$ss_cordFont</span><span class="cm">,</span>
                            -<span class="w">foreground</span>   <span class="cm">=&gt;</span> <span class="i">$fltColor</span>[<span class="i">$plyrs</span>] <span class="s">)</span><span class="cm">,</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Entry</span><span class="s">(</span> -<span class="w">textvariable</span> <span class="cm">=&gt;</span> \<span class="i">$carX</span><span class="cm">,</span> -<span class="w">width</span> <span class="cm">=&gt;</span> <span class="n">1</span> <span class="s">)</span><span class="cm">,</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Label</span><span class="s">(</span> -<span class="w">text</span> <span class="cm">=&gt;</span> <span class="q">&#39;Y:&#39;</span><span class="cm">,</span> -<span class="w">font</span> <span class="cm">=&gt;</span> <span class="i">$ss_cordFont</span><span class="cm">,</span>
                            -<span class="w">foreground</span>   <span class="cm">=&gt;</span> <span class="i">$fltColor</span>[<span class="i">$plyrs</span>] <span class="s">)</span><span class="cm">,</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Entry</span><span class="s">(</span> -<span class="w">textvariable</span> <span class="cm">=&gt;</span> \<span class="i">$carY</span><span class="cm">,</span> -<span class="w">width</span> <span class="cm">=&gt;</span> <span class="n">1</span> <span class="s">)</span><span class="cm">,</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Label</span><span class="s">(</span> -<span class="w">text</span> <span class="cm">=&gt;</span> <span class="q">&#39;O:&#39;</span><span class="cm">,</span> -<span class="w">font</span> <span class="cm">=&gt;</span> <span class="i">$ss_cordFont</span><span class="cm">,</span>
                            -<span class="w">foreground</span>   <span class="cm">=&gt;</span> <span class="i">$fltColor</span>[<span class="i">$plyrs</span>] <span class="s">)</span><span class="cm">,</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Entry</span><span class="s">(</span> -<span class="w">textvariable</span> <span class="cm">=&gt;</span> \<span class="i">$carO</span><span class="cm">,</span> -<span class="w">width</span> <span class="cm">=&gt;</span> <span class="n">1</span> <span class="s">)</span><span class="cm">,</span>
                            -<span class="w">sticky</span> <span class="cm">=&gt;</span> <span class="q">&#39;e&#39;</span><span class="cm">,</span>
    <span class="s">)</span><span class="sc">;</span>

<span class="c">### Battleship Row</span>
    <span class="i">$coordFrame</span><span class="i">-&gt;Label</span><span class="s">(</span> -<span class="w">text</span> <span class="cm">=&gt;</span> <span class="q">&#39;Battleship(4)-&#39;</span><span class="cm">,</span>
                        -<span class="w">font</span> <span class="cm">=&gt;</span> <span class="i">$ss_cordFont</span><span class="cm">,</span>
                        -<span class="w">foreground</span> <span class="cm">=&gt;</span> <span class="i">$fltColor</span>[<span class="i">$plyrs</span>]
    <span class="s">)</span><span class="i">-&gt;grid</span><span class="s">(</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Label</span><span class="s">(</span> -<span class="w">text</span> <span class="cm">=&gt;</span> <span class="q">&#39;X:&#39;</span><span class="cm">,</span> -<span class="w">font</span> <span class="cm">=&gt;</span> <span class="i">$ss_cordFont</span><span class="cm">,</span>
                            -<span class="w">foreground</span>   <span class="cm">=&gt;</span> <span class="i">$fltColor</span>[<span class="i">$plyrs</span>] <span class="s">)</span><span class="cm">,</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Entry</span><span class="s">(</span> -<span class="w">textvariable</span> <span class="cm">=&gt;</span> \<span class="i">$batX</span><span class="cm">,</span> -<span class="w">width</span> <span class="cm">=&gt;</span> <span class="n">1</span> <span class="s">)</span><span class="cm">,</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Label</span><span class="s">(</span> -<span class="w">text</span> <span class="cm">=&gt;</span> <span class="q">&#39;Y:&#39;</span><span class="cm">,</span> -<span class="w">font</span> <span class="cm">=&gt;</span> <span class="i">$ss_cordFont</span><span class="cm">,</span>
                            -<span class="w">foreground</span>   <span class="cm">=&gt;</span> <span class="i">$fltColor</span>[<span class="i">$plyrs</span>] <span class="s">)</span><span class="cm">,</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Entry</span><span class="s">(</span> -<span class="w">textvariable</span> <span class="cm">=&gt;</span> \<span class="i">$batY</span><span class="cm">,</span> -<span class="w">width</span> <span class="cm">=&gt;</span> <span class="n">1</span> <span class="s">)</span><span class="cm">,</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Label</span><span class="s">(</span> -<span class="w">text</span> <span class="cm">=&gt;</span> <span class="q">&#39;O:&#39;</span><span class="cm">,</span> -<span class="w">font</span> <span class="cm">=&gt;</span> <span class="i">$ss_cordFont</span><span class="cm">,</span>
                            -<span class="w">foreground</span>   <span class="cm">=&gt;</span> <span class="i">$fltColor</span>[<span class="i">$plyrs</span>] <span class="s">)</span><span class="cm">,</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Entry</span><span class="s">(</span> -<span class="w">textvariable</span> <span class="cm">=&gt;</span> \<span class="i">$batO</span><span class="cm">,</span> -<span class="w">width</span> <span class="cm">=&gt;</span> <span class="n">1</span> <span class="s">)</span><span class="cm">,</span>
                            -<span class="w">sticky</span> <span class="cm">=&gt;</span> <span class="q">&#39;e&#39;</span><span class="cm">,</span>
    <span class="s">)</span><span class="sc">;</span>

<span class="c">### Destroyer Row</span>
    <span class="i">$coordFrame</span><span class="i">-&gt;Label</span><span class="s">(</span> -<span class="w">text</span> <span class="cm">=&gt;</span> <span class="q">&#39;Destroyer(3)-&#39;</span><span class="cm">,</span>
                        -<span class="w">font</span> <span class="cm">=&gt;</span> <span class="i">$ss_cordFont</span><span class="cm">,</span>
                        -<span class="w">foreground</span> <span class="cm">=&gt;</span> <span class="i">$fltColor</span>[<span class="i">$plyrs</span>]<span class="cm">,</span>
    <span class="s">)</span><span class="i">-&gt;grid</span><span class="s">(</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Label</span><span class="s">(</span> -<span class="w">text</span> <span class="cm">=&gt;</span> <span class="q">&#39;X:&#39;</span><span class="cm">,</span> -<span class="w">font</span> <span class="cm">=&gt;</span> <span class="i">$ss_cordFont</span><span class="cm">,</span>
                            -<span class="w">foreground</span>   <span class="cm">=&gt;</span> <span class="i">$fltColor</span>[<span class="i">$plyrs</span>] <span class="s">)</span><span class="cm">,</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Entry</span><span class="s">(</span> -<span class="w">textvariable</span> <span class="cm">=&gt;</span> \<span class="i">$desX</span><span class="cm">,</span> -<span class="w">width</span> <span class="cm">=&gt;</span> <span class="n">1</span> <span class="s">)</span><span class="cm">,</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Label</span><span class="s">(</span> -<span class="w">text</span> <span class="cm">=&gt;</span> <span class="q">&#39;Y:&#39;</span><span class="cm">,</span> -<span class="w">font</span> <span class="cm">=&gt;</span> <span class="i">$ss_cordFont</span><span class="cm">,</span>
                            -<span class="w">foreground</span>   <span class="cm">=&gt;</span> <span class="i">$fltColor</span>[<span class="i">$plyrs</span>] <span class="s">)</span><span class="cm">,</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Entry</span><span class="s">(</span> -<span class="w">textvariable</span> <span class="cm">=&gt;</span> \<span class="i">$desY</span><span class="cm">,</span> -<span class="w">width</span> <span class="cm">=&gt;</span> <span class="n">1</span> <span class="s">)</span><span class="cm">,</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Label</span><span class="s">(</span> -<span class="w">text</span> <span class="cm">=&gt;</span> <span class="q">&#39;O:&#39;</span><span class="cm">,</span> -<span class="w">font</span> <span class="cm">=&gt;</span> <span class="i">$ss_cordFont</span><span class="cm">,</span>
                            -<span class="w">foreground</span>   <span class="cm">=&gt;</span> <span class="i">$fltColor</span>[<span class="i">$plyrs</span>] <span class="s">)</span><span class="cm">,</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Entry</span><span class="s">(</span> -<span class="w">textvariable</span> <span class="cm">=&gt;</span> \<span class="i">$desO</span><span class="cm">,</span> -<span class="w">width</span> <span class="cm">=&gt;</span> <span class="n">1</span> <span class="s">)</span><span class="cm">,</span>
                            -<span class="w">sticky</span> <span class="cm">=&gt;</span> <span class="q">&#39;e&#39;</span><span class="cm">,</span>
    <span class="s">)</span><span class="sc">;</span>

<span class="c">### Submarine Row</span>
    <span class="i">$coordFrame</span><span class="i">-&gt;Label</span><span class="s">(</span> -<span class="w">text</span> <span class="cm">=&gt;</span> <span class="q">&#39;Submarine(3)-&#39;</span><span class="cm">,</span>
                        -<span class="w">font</span> <span class="cm">=&gt;</span> <span class="i">$ss_cordFont</span><span class="cm">,</span>
                        -<span class="w">foreground</span> <span class="cm">=&gt;</span> <span class="i">$fltColor</span>[<span class="i">$plyrs</span>]<span class="cm">,</span>
    <span class="s">)</span><span class="i">-&gt;grid</span><span class="s">(</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Label</span><span class="s">(</span> -<span class="w">text</span> <span class="cm">=&gt;</span> <span class="q">&#39;X:&#39;</span><span class="cm">,</span> -<span class="w">font</span> <span class="cm">=&gt;</span> <span class="i">$ss_cordFont</span><span class="cm">,</span>
                            -<span class="w">foreground</span>   <span class="cm">=&gt;</span> <span class="i">$fltColor</span>[<span class="i">$plyrs</span>] <span class="s">)</span><span class="cm">,</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Entry</span><span class="s">(</span> -<span class="w">textvariable</span> <span class="cm">=&gt;</span> \<span class="i">$subX</span><span class="cm">,</span> -<span class="w">width</span> <span class="cm">=&gt;</span> <span class="n">1</span> <span class="s">)</span><span class="cm">,</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Label</span><span class="s">(</span> -<span class="w">text</span> <span class="cm">=&gt;</span> <span class="q">&#39;Y:&#39;</span><span class="cm">,</span> -<span class="w">font</span> <span class="cm">=&gt;</span> <span class="i">$ss_cordFont</span><span class="cm">,</span>
                            -<span class="w">foreground</span>   <span class="cm">=&gt;</span> <span class="i">$fltColor</span>[<span class="i">$plyrs</span>] <span class="s">)</span><span class="cm">,</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Entry</span><span class="s">(</span> -<span class="w">textvariable</span> <span class="cm">=&gt;</span> \<span class="i">$subY</span><span class="cm">,</span> -<span class="w">width</span> <span class="cm">=&gt;</span> <span class="n">1</span> <span class="s">)</span><span class="cm">,</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Label</span><span class="s">(</span> -<span class="w">text</span> <span class="cm">=&gt;</span> <span class="q">&#39;O:&#39;</span><span class="cm">,</span> -<span class="w">font</span> <span class="cm">=&gt;</span> <span class="i">$ss_cordFont</span><span class="cm">,</span>
                            -<span class="w">foreground</span>   <span class="cm">=&gt;</span> <span class="i">$fltColor</span>[<span class="i">$plyrs</span>] <span class="s">)</span><span class="cm">,</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Entry</span><span class="s">(</span> -<span class="w">textvariable</span> <span class="cm">=&gt;</span> \<span class="i">$subO</span><span class="cm">,</span> -<span class="w">width</span> <span class="cm">=&gt;</span> <span class="n">1</span> <span class="s">)</span><span class="cm">,</span>
                            -<span class="w">sticky</span> <span class="cm">=&gt;</span> <span class="q">&#39;e&#39;</span><span class="cm">,</span>
    <span class="s">)</span><span class="sc">;</span>

<span class="c">### Patrol Boat Row</span>
    <span class="i">$coordFrame</span><span class="i">-&gt;Label</span><span class="s">(</span> -<span class="w">text</span> <span class="cm">=&gt;</span> <span class="q">&#39;Patrol Boat(2)-&#39;</span><span class="cm">,</span>
                        -<span class="w">font</span> <span class="cm">=&gt;</span> <span class="i">$ss_cordFont</span><span class="cm">,</span>
                        -<span class="w">foreground</span> <span class="cm">=&gt;</span> <span class="i">$fltColor</span>[<span class="i">$plyrs</span>]<span class="cm">,</span>
    <span class="s">)</span><span class="i">-&gt;grid</span><span class="s">(</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Label</span><span class="s">(</span> -<span class="w">text</span> <span class="cm">=&gt;</span> <span class="q">&#39;X:&#39;</span><span class="cm">,</span> -<span class="w">font</span> <span class="cm">=&gt;</span> <span class="i">$ss_cordFont</span><span class="cm">,</span>
                            -<span class="w">foreground</span>   <span class="cm">=&gt;</span> <span class="i">$fltColor</span>[<span class="i">$plyrs</span>] <span class="s">)</span><span class="cm">,</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Entry</span><span class="s">(</span> -<span class="w">textvariable</span> <span class="cm">=&gt;</span> \<span class="i">$patX</span><span class="cm">,</span> -<span class="w">width</span> <span class="cm">=&gt;</span> <span class="n">1</span> <span class="s">)</span><span class="cm">,</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Label</span><span class="s">(</span> -<span class="w">text</span> <span class="cm">=&gt;</span> <span class="q">&#39;Y:&#39;</span><span class="cm">,</span> -<span class="w">font</span> <span class="cm">=&gt;</span> <span class="i">$ss_cordFont</span><span class="cm">,</span>
                            -<span class="w">foreground</span>   <span class="cm">=&gt;</span> <span class="i">$fltColor</span>[<span class="i">$plyrs</span>] <span class="s">)</span><span class="cm">,</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Entry</span><span class="s">(</span> -<span class="w">textvariable</span> <span class="cm">=&gt;</span> \<span class="i">$patY</span><span class="cm">,</span> -<span class="w">width</span> <span class="cm">=&gt;</span> <span class="n">1</span> <span class="s">)</span><span class="cm">,</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Label</span><span class="s">(</span> -<span class="w">text</span> <span class="cm">=&gt;</span> <span class="q">&#39;O:&#39;</span><span class="cm">,</span> -<span class="w">font</span> <span class="cm">=&gt;</span> <span class="i">$ss_cordFont</span><span class="cm">,</span>
                        -<span class="w">foreground</span>   <span class="cm">=&gt;</span> <span class="i">$fltColor</span>[<span class="i">$plyrs</span>] <span class="s">)</span><span class="cm">,</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Entry</span><span class="s">(</span> -<span class="w">textvariable</span> <span class="cm">=&gt;</span> \<span class="i">$patO</span><span class="cm">,</span> -<span class="w">width</span> <span class="cm">=&gt;</span> <span class="n">1</span> <span class="s">)</span><span class="cm">,</span>
                            -<span class="w">sticky</span> <span class="cm">=&gt;</span> <span class="q">&#39;e&#39;</span><span class="cm">,</span>
    <span class="s">)</span><span class="sc">;</span>

    <span class="i">$coordFrame</span><span class="i">-&gt;Button</span><span class="s">(</span>
        -<span class="w">text</span>    <span class="cm">=&gt;</span> <span class="q">&#39;Clear Values&#39;</span><span class="cm">,</span>
        -<span class="w">width</span>   <span class="cm">=&gt;</span> <span class="i">$ss_btnWidth</span><span class="cm">,</span>
        -<span class="w">command</span> <span class="cm">=&gt;</span> <span class="k">sub</span> <span class="s">{</span> <span class="i">clrCoords</span><span class="s">(</span> <span class="i">$chkGrid</span><span class="cm">,</span> <span class="i">$chkText</span><span class="cm">,</span> <span class="i">$plyrs</span> <span class="s">)</span><span class="sc">;</span> <span class="s">}</span>
    <span class="s">)</span><span class="i">-&gt;grid</span><span class="s">(</span>
        <span class="i">$coordFrame</span><span class="i">-&gt;Button</span><span class="s">(</span>
            -<span class="w">text</span>    <span class="cm">=&gt;</span> <span class="q">&#39;Auto Pick&#39;</span><span class="cm">,</span>
            -<span class="w">width</span>   <span class="cm">=&gt;</span> <span class="i">$ss_btnWidth</span><span class="cm">,</span>
            -<span class="w">command</span> <span class="cm">=&gt;</span> <span class="s">(</span> <span class="i">$plyrs</span> <span class="s">)</span>
                ? <span class="k">sub</span> <span class="s">{</span>
                      <span class="i">@rdFleet</span> = <span class="i">&amp;coordGen</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>
                      <span class="i">makeLines</span><span class="s">(</span> <span class="i">$chkGrid</span><span class="cm">,</span> <span class="i">$plyrs</span><span class="cm">,</span> <span class="i">@rdFleet</span> <span class="s">)</span><span class="sc">;</span>
                      <span class="i">makeCoords</span><span class="s">(</span> <span class="i">$chkText</span><span class="cm">,</span> <span class="i">@rdFleet</span> <span class="s">)</span><span class="sc">;</span>
                  <span class="s">}</span>
                <span class="co">:</span> <span class="k">sub</span> <span class="s">{</span>
                      <span class="i">@blFleet</span> = <span class="i">&amp;coordGen</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span> 
                      <span class="i">makeLines</span><span class="s">(</span> <span class="i">$chkGrid</span><span class="cm">,</span> <span class="i">$plyrs</span><span class="cm">,</span> <span class="i">@blFleet</span> <span class="s">)</span><span class="sc">;</span>
                      <span class="i">makeCoords</span><span class="s">(</span> <span class="i">$chkText</span><span class="cm">,</span> <span class="i">@blFleet</span> <span class="s">)</span><span class="sc">;</span>
                      <span class="k">return</span><span class="sc">;</span>
                  <span class="s">}</span>
        <span class="s">)</span><span class="cm">,</span> <span class="q">&quot;-&quot;</span><span class="cm">,</span> <span class="q">&quot;-&quot;</span><span class="cm">,</span> <span class="q">&quot;-&quot;</span><span class="cm">,</span> -<span class="w">columnspan</span> <span class="cm">=&gt;</span> <span class="n">2</span>
    <span class="s">)</span><span class="sc">;</span>

    <span class="i">$chkCanvas</span> = <span class="i">$canvasFrame</span><span class="i">-&gt;Button</span><span class="s">(</span>
        -<span class="w">text</span>    <span class="cm">=&gt;</span> <span class="q">&#39;Check&#39;</span><span class="cm">,</span>
        -<span class="w">width</span>   <span class="cm">=&gt;</span> <span class="i">$ss_btnWidth</span><span class="cm">,</span>
        -<span class="w">command</span> <span class="cm">=&gt;</span> <span class="s">(</span> <span class="i">$plyrs</span> <span class="s">)</span>
            ? <span class="k">sub</span> <span class="s">{</span> <span class="i">@rdFleet</span> = <span class="i">&amp;check</span><span class="s">(</span> <span class="i">$chkGrid</span><span class="cm">,</span> <span class="i">$chkText</span><span class="cm">,</span> <span class="i">$plyrs</span> <span class="s">)</span><span class="sc">;</span> <span class="s">}</span>
            <span class="co">:</span> <span class="k">sub</span> <span class="s">{</span> <span class="i">@blFleet</span> = <span class="i">&amp;check</span><span class="s">(</span> <span class="i">$chkGrid</span><span class="cm">,</span> <span class="i">$chkText</span><span class="cm">,</span> <span class="i">$plyrs</span> <span class="s">)</span><span class="sc">;</span> <span class="s">}</span>
    <span class="s">)</span><span class="i">-&gt;grid</span><span class="sc">;</span>

    <span class="i">$chkGrid</span> = <span class="i">$canvasFrame</span><span class="i">-&gt;Canvas</span><span class="s">(</span>
        -<span class="w">width</span>        <span class="cm">=&gt;</span> <span class="n">100</span><span class="cm">,</span>
        -<span class="w">height</span>       <span class="cm">=&gt;</span> <span class="n">100</span><span class="cm">,</span>
        -<span class="w">scrollregion</span> <span class="cm">=&gt;</span> <span class="s">[</span> <span class="n">0</span><span class="cm">,</span><span class="n">0</span><span class="cm">,</span><span class="n">100</span><span class="cm">,</span><span class="n">100</span> <span class="s">]</span><span class="cm">,</span>
        -<span class="w">borderwidth</span>  <span class="cm">=&gt;</span> <span class="n">2</span><span class="cm">,</span>
        -<span class="w">relief</span>       <span class="cm">=&gt;</span> <span class="q">&#39;groove&#39;</span><span class="cm">,</span>
    <span class="s">)</span><span class="i">-&gt;grid</span><span class="sc">;</span>

    <span class="i">$doneCanvas</span> = <span class="i">$canvasFrame</span><span class="i">-&gt;Button</span><span class="s">(</span>
        -<span class="w">text</span>    <span class="cm">=&gt;</span> <span class="q">&#39;Done&#39;</span><span class="cm">,</span>
        -<span class="w">width</span>   <span class="cm">=&gt;</span> <span class="i">$ss_btnWidth</span><span class="cm">,</span>
        -<span class="w">command</span> <span class="cm">=&gt;</span> <span class="s">(</span> <span class="i">$plyrs</span> <span class="s">)</span>
            ? <span class="k">sub</span> <span class="s">{</span>
                  <span class="i">$ss_tl</span><span class="i">-&gt;destroy</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>
                  <span class="i">$plyrs</span> = <span class="n">0</span><span class="sc">;</span>
                  <span class="i">clrCoords</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>
                  <span class="i">setShips</span><span class="s">(</span> <span class="i">$plyrs</span> <span class="s">)</span><span class="sc">;</span>
              <span class="s">}</span>
            <span class="co">:</span> <span class="k">sub</span> <span class="s">{</span>
                  <span class="i">$ss_tl</span><span class="i">-&gt;destroy</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span> 
                  <span class="i">@rdFleet</span> = <span class="i">&amp;coordGen</span><span class="s">(</span><span class="s">)</span> <span class="k">unless</span> <span class="s">(</span> <span class="i">@rdFleet</span> <span class="s">)</span><span class="sc">;</span>
                  <span class="i">$bFleet</span> = <span class="w">Fleet</span><span class="w">-&gt;new</span><span class="s">(</span> <span class="i">@blFleet</span> <span class="s">)</span><span class="sc">;</span>
                  <span class="i">$rFleet</span> = <span class="w">Fleet</span><span class="w">-&gt;new</span><span class="s">(</span> <span class="i">@rdFleet</span> <span class="s">)</span><span class="sc">;</span>
                  <span class="i">makeGrid</span><span class="s">(</span> <span class="i">$plyrs</span> <span class="s">)</span><span class="sc">;</span>
                  <span class="k">return</span><span class="sc">;</span>
              <span class="s">}</span>
    <span class="s">)</span><span class="i">-&gt;grid</span><span class="sc">;</span>

    <span class="i">$chkText</span> = <span class="i">$textFrame</span><span class="i">-&gt;ROText</span><span class="s">(</span>
        -<span class="w">width</span>      <span class="cm">=&gt;</span> <span class="n">20</span><span class="cm">,</span>
        -<span class="w">height</span>     <span class="cm">=&gt;</span> <span class="n">9</span><span class="cm">,</span>
        -<span class="w">background</span> <span class="cm">=&gt;</span> <span class="q">&#39;white&#39;</span><span class="cm">,</span>
        -<span class="w">relief</span>     <span class="cm">=&gt;</span> <span class="q">&#39;groove&#39;</span><span class="cm">,</span>
    <span class="s">)</span><span class="i">-&gt;grid</span><span class="sc">;</span>

    <span class="i">$coordFrame</span><span class="i">-&gt;pack</span><span class="s">(</span>
        -<span class="w">side</span> <span class="cm">=&gt;</span> <span class="q">&#39;left&#39;</span><span class="cm">,</span>
        -<span class="w">padx</span> <span class="cm">=&gt;</span> <span class="n">7</span><span class="cm">,</span>
    <span class="s">)</span><span class="sc">;</span>
    <span class="i">$canvasFrame</span><span class="i">-&gt;pack</span><span class="s">(</span> -<span class="w">side</span> <span class="cm">=&gt;</span> <span class="q">&#39;left&#39;</span><span class="cm">,</span> <span class="s">)</span><span class="sc">;</span>
    <span class="i">$textFrame</span><span class="i">-&gt;pack</span><span class="s">(</span>
        -<span class="w">side</span> <span class="cm">=&gt;</span> <span class="q">&#39;left&#39;</span><span class="cm">,</span>
        -<span class="w">padx</span> <span class="cm">=&gt;</span> <span class="n">7</span><span class="cm">,</span>
        -<span class="w">pady</span> <span class="cm">=&gt;</span> <span class="n">5</span><span class="cm">,</span>
    <span class="s">)</span><span class="sc">;</span>
    <span class="k">return</span><span class="sc">;</span>
<span class="s">}</span>
<a name="clrCoords-"></a><span class="k">sub </span><span class="m">clrCoords</span> <span class="s">{</span>
    <span class="k">my</span> <span class="s">(</span> <span class="i">$chkGrid</span><span class="cm">,</span> <span class="i">$chkText</span><span class="cm">,</span> <span class="i">$plyrs</span> <span class="s">)</span> = <span class="s">(</span> <span class="i">@_</span> <span class="s">)</span><span class="sc">;</span>
    <span class="s">(</span> <span class="i">$carX</span><span class="cm">,</span> <span class="i">$carY</span><span class="cm">,</span> <span class="i">$carO</span><span class="cm">,</span> <span class="i">$batX</span><span class="cm">,</span> <span class="i">$batY</span><span class="cm">,</span> <span class="i">$batO</span><span class="cm">,</span> <span class="i">$desX</span><span class="cm">,</span> <span class="i">$desY</span><span class="cm">,</span> <span class="i">$desO</span> <span class="s">)</span>
        = <span class="s">(</span> <span class="k">undef</span> <span class="s">)</span> x <span class="n">9</span><span class="sc">;</span>
    <span class="s">(</span> <span class="i">$subX</span><span class="cm">,</span> <span class="i">$subY</span><span class="cm">,</span> <span class="i">$subO</span><span class="cm">,</span> <span class="i">$patX</span><span class="cm">,</span> <span class="i">$patY</span><span class="cm">,</span> <span class="i">$patO</span> <span class="s">)</span>
        = <span class="s">(</span> <span class="k">undef</span> <span class="s">)</span> x <span class="n">6</span><span class="sc">;</span>
    <span class="i">check</span><span class="s">(</span> <span class="i">$chkGrid</span><span class="cm">,</span> <span class="i">$chkText</span><span class="cm">,</span> <span class="i">$plyrs</span> <span class="s">)</span> <span class="k">if</span> <span class="s">(</span> <span class="i">@_</span> <span class="s">)</span><span class="sc">;</span>
    <span class="k">return</span><span class="sc">;</span>
<span class="s">}</span>
<a name="check-"></a><span class="k">sub </span><span class="m">check</span> <span class="s">{</span>
    <span class="k">my</span> <span class="s">(</span> <span class="i">$chkGrid</span><span class="cm">,</span> <span class="i">$chkText</span><span class="cm">,</span> <span class="i">$plyrs</span> <span class="s">)</span> = <span class="s">(</span> <span class="i">@_</span> <span class="s">)</span><span class="sc">;</span>
    <span class="k">my</span> <span class="s">(</span> <span class="i">$x1</span><span class="cm">,</span> <span class="i">$x2</span><span class="cm">,</span> <span class="i">$y1</span><span class="cm">,</span> <span class="i">$y2</span> <span class="s">)</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">@myCar</span>   = <span class="i">placeShip</span><span class="s">(</span> <span class="i">$carX</span><span class="cm">,</span> <span class="i">$carY</span><span class="cm">,</span> <span class="n">5</span><span class="cm">,</span> <span class="i">$carO</span> <span class="s">)</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">@myBat</span>   = <span class="i">placeShip</span><span class="s">(</span> <span class="i">$batX</span><span class="cm">,</span> <span class="i">$batY</span><span class="cm">,</span> <span class="n">4</span><span class="cm">,</span> <span class="i">$batO</span> <span class="s">)</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">@myDes</span>   = <span class="i">placeShip</span><span class="s">(</span> <span class="i">$desX</span><span class="cm">,</span> <span class="i">$desY</span><span class="cm">,</span> <span class="n">3</span><span class="cm">,</span> <span class="i">$desO</span> <span class="s">)</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">@mySub</span>   = <span class="i">placeShip</span><span class="s">(</span> <span class="i">$subX</span><span class="cm">,</span> <span class="i">$subY</span><span class="cm">,</span> <span class="n">3</span><span class="cm">,</span> <span class="i">$subO</span> <span class="s">)</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">@myPat</span>   = <span class="i">placeShip</span><span class="s">(</span> <span class="i">$patX</span><span class="cm">,</span> <span class="i">$patY</span><span class="cm">,</span> <span class="n">2</span><span class="cm">,</span> <span class="i">$patO</span> <span class="s">)</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">@allCrds</span> = <span class="s">(</span> <span class="q">&quot;@myCar&quot;</span><span class="cm">,</span> <span class="q">&quot;@myBat&quot;</span><span class="cm">,</span> <span class="q">&quot;@myDes&quot;</span><span class="cm">,</span> <span class="q">&quot;@mySub&quot;</span><span class="cm">,</span> <span class="q">&quot;@myPat&quot;</span> <span class="s">)</span><span class="sc">;</span>

    <span class="i">$chkGrid</span><span class="i">-&gt;delete</span><span class="s">(</span> <span class="q">&#39;all&#39;</span> <span class="s">)</span><span class="sc">;</span>
    <span class="i">$chkText</span><span class="i">-&gt;delete</span><span class="s">(</span> <span class="q">&#39;1.0&#39;</span><span class="cm">,</span> <span class="q">&#39;end&#39;</span> <span class="s">)</span><span class="sc">;</span>
    <span class="i">$chkText</span><span class="i">-&gt;insert</span><span class="s">(</span> <span class="q">&#39;1.0&#39;</span><span class="cm">,</span> <span class="q">&quot;@myCar\n&quot;</span> <span class="s">)</span><span class="sc">;</span>
    <span class="i">$chkText</span><span class="i">-&gt;insert</span><span class="s">(</span> <span class="q">&#39;2.0&#39;</span><span class="cm">,</span> <span class="q">&quot;@myBat\n&quot;</span> <span class="s">)</span><span class="sc">;</span>
    <span class="i">$chkText</span><span class="i">-&gt;insert</span><span class="s">(</span> <span class="q">&#39;3.0&#39;</span><span class="cm">,</span> <span class="q">&quot;@myDes\n&quot;</span> <span class="s">)</span><span class="sc">;</span>
    <span class="i">$chkText</span><span class="i">-&gt;insert</span><span class="s">(</span> <span class="q">&#39;4.0&#39;</span><span class="cm">,</span> <span class="q">&quot;@mySub\n&quot;</span> <span class="s">)</span><span class="sc">;</span>
    <span class="i">$chkText</span><span class="i">-&gt;insert</span><span class="s">(</span> <span class="q">&#39;5.0&#39;</span><span class="cm">,</span> <span class="q">&quot;@myPat\n&quot;</span> <span class="s">)</span><span class="sc">;</span>
    <span class="i">$chkText</span><span class="i">-&gt;insert</span><span class="s">(</span> <span class="q">&#39;6.0&#39;</span><span class="cm">,</span> <span class="i">coordCheckStr</span><span class="s">(</span> <span class="i">@allCrds</span> <span class="s">)</span> <span class="s">)</span><span class="sc">;</span>

    <span class="k">foreach</span> <span class="k">my</span> <span class="i">$ea</span> <span class="s">(</span> <span class="i">@allCrds</span> <span class="s">)</span> <span class="s">{</span>
        <span class="k">next</span> <span class="k">unless</span> <span class="s">(</span> <span class="i">$ea</span> <span class="s">)</span><span class="sc">;</span>
        <span class="k">my</span> <span class="i">@str</span> = <span class="k">map</span> <span class="s">{</span> <span class="k">split</span> <span class="q">/ /</span> <span class="s">}</span> <span class="i">$ea</span><span class="sc">;</span>
        <span class="s">(</span> <span class="i">$x1</span><span class="cm">,</span> <span class="i">$x2</span><span class="cm">,</span> <span class="i">$y1</span><span class="cm">,</span> <span class="i">$y2</span> <span class="s">)</span> = <span class="i">splitInt</span><span class="s">(</span> <span class="i">$str</span>[<span class="n">0</span>]<span class="cm">,</span> <span class="i">$str</span>[<span class="n">-1</span>] <span class="s">)</span><span class="sc">;</span>
        <span class="i">$chkGrid</span><span class="i">-&gt;createLine</span><span class="s">(</span>
            <span class="i">$x1</span><span class="cm">,</span><span class="i">$x2</span><span class="cm">,</span><span class="i">$y1</span><span class="cm">,</span><span class="i">$y2</span><span class="cm">,</span>
            -<span class="w">fill</span> <span class="cm">=&gt;</span> <span class="i">$fltColor</span>[<span class="i">$plyrs</span>]<span class="cm">,</span>
            -<span class="w">width</span> <span class="cm">=&gt;</span> <span class="n">2</span>
        <span class="s">)</span><span class="sc">;</span>
    <span class="s">}</span>
    <span class="k">return</span> <span class="i">@allCrds</span><span class="sc">;</span>
<span class="s">}</span>
<a name="makeLines-"></a><span class="k">sub </span><span class="m">makeLines</span> <span class="s">{</span>
    <span class="k">my</span> <span class="s">(</span> <span class="i">$chkGrid</span><span class="cm">,</span> <span class="i">$plyrs</span><span class="cm">,</span> <span class="i">@crds</span> <span class="s">)</span> = <span class="s">(</span> <span class="i">@_</span> <span class="s">)</span><span class="sc">;</span>
    <span class="k">my</span> <span class="s">(</span> <span class="i">$x1</span><span class="cm">,</span> <span class="i">$x2</span><span class="cm">,</span> <span class="i">$y1</span><span class="cm">,</span> <span class="i">$y2</span> <span class="s">)</span><span class="sc">;</span>
    <span class="i">$chkGrid</span><span class="i">-&gt;delete</span><span class="s">(</span> <span class="q">&#39;all&#39;</span> <span class="s">)</span><span class="sc">;</span>
    <span class="k">foreach</span> <span class="k">my</span> <span class="i">$ea</span> <span class="s">(</span> <span class="i">@crds</span> <span class="s">)</span> <span class="s">{</span>
        <span class="k">next</span> <span class="k">unless</span> <span class="s">(</span> <span class="i">$ea</span> <span class="s">)</span><span class="sc">;</span>
        <span class="k">my</span> <span class="i">@str</span> = <span class="k">map</span> <span class="s">{</span> <span class="k">split</span> <span class="q">/ /</span> <span class="s">}</span> <span class="i">$ea</span><span class="sc">;</span>
        <span class="s">(</span> <span class="i">$x1</span><span class="cm">,</span> <span class="i">$x2</span><span class="cm">,</span> <span class="i">$y1</span><span class="cm">,</span> <span class="i">$y2</span> <span class="s">)</span> = <span class="i">splitInt</span><span class="s">(</span> <span class="i">$str</span>[<span class="n">0</span>]<span class="cm">,</span> <span class="i">$str</span>[<span class="n">-1</span>] <span class="s">)</span><span class="sc">;</span>
        <span class="i">$chkGrid</span><span class="i">-&gt;createLine</span><span class="s">(</span>
            <span class="i">$x1</span><span class="cm">,</span><span class="i">$x2</span><span class="cm">,</span><span class="i">$y1</span><span class="cm">,</span><span class="i">$y2</span><span class="cm">,</span>
            -<span class="w">fill</span> <span class="cm">=&gt;</span> <span class="i">$fltColor</span>[<span class="i">$plyrs</span>]<span class="cm">,</span>
            -<span class="w">width</span> <span class="cm">=&gt;</span> <span class="n">2</span>
        <span class="s">)</span><span class="sc">;</span>
    <span class="s">}</span>
    <span class="k">return</span><span class="sc">;</span>
<span class="s">}</span>
<a name="makeCoords-"></a><span class="k">sub </span><span class="m">makeCoords</span> <span class="s">{</span>
    <span class="k">my</span> <span class="s">(</span> <span class="i">$chkText</span><span class="cm">,</span> <span class="i">@crds</span> <span class="s">)</span> = <span class="s">(</span> <span class="i">@_</span> <span class="s">)</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">@str</span><span class="sc">;</span>
    <span class="i">$chkText</span><span class="i">-&gt;delete</span><span class="s">(</span> <span class="q">&#39;1.0&#39;</span><span class="cm">,</span> <span class="q">&#39;end&#39;</span> <span class="s">)</span><span class="sc">;</span>
    <span class="k">foreach</span> <span class="k">my</span> <span class="i">$ea</span> <span class="s">(</span> <span class="i">@crds</span> <span class="s">)</span> <span class="s">{</span>
        <span class="k">next</span> <span class="k">unless</span> <span class="s">(</span> <span class="i">$ea</span> <span class="s">)</span><span class="sc">;</span>
        <span class="k">push</span> <span class="i">@str</span><span class="cm">,</span> <span class="q">&quot;$ea&quot;</span><span class="sc">;</span>
    <span class="s">}</span>
    <span class="i">$chkText</span><span class="i">-&gt;insert</span><span class="s">(</span> <span class="q">&#39;1.0&#39;</span><span class="cm">,</span> <span class="q">&quot;$str[0]\n&quot;</span> <span class="s">)</span><span class="sc">;</span>
    <span class="i">$chkText</span><span class="i">-&gt;insert</span><span class="s">(</span> <span class="q">&#39;2.0&#39;</span><span class="cm">,</span> <span class="q">&quot;$str[1]\n&quot;</span> <span class="s">)</span><span class="sc">;</span>
    <span class="i">$chkText</span><span class="i">-&gt;insert</span><span class="s">(</span> <span class="q">&#39;3.0&#39;</span><span class="cm">,</span> <span class="q">&quot;$str[2]\n&quot;</span> <span class="s">)</span><span class="sc">;</span>
    <span class="i">$chkText</span><span class="i">-&gt;insert</span><span class="s">(</span> <span class="q">&#39;4.0&#39;</span><span class="cm">,</span> <span class="q">&quot;$str[3]\n&quot;</span> <span class="s">)</span><span class="sc">;</span>
    <span class="i">$chkText</span><span class="i">-&gt;insert</span><span class="s">(</span> <span class="q">&#39;5.0&#39;</span><span class="cm">,</span> <span class="q">&quot;$str[4]\n&quot;</span> <span class="s">)</span><span class="sc">;</span>
    <span class="k">return</span><span class="sc">;</span>
<span class="s">}</span>
<a name="splitInt-"></a><span class="k">sub </span><span class="m">splitInt</span> <span class="s">{</span>
  <span class="k">no</span> <span class="w">warnings</span><span class="sc">;</span>
    <span class="k">my</span> <span class="s">(</span> <span class="i">$c1</span><span class="cm">,</span> <span class="i">$c2</span><span class="cm">,</span> <span class="i">$d1</span><span class="cm">,</span> <span class="i">$d2</span> <span class="s">)</span> = <span class="k">map</span> <span class="s">{</span> <span class="k">split</span> <span class="q">//</span> <span class="s">}</span> <span class="i">@_</span><span class="sc">;</span>
       <span class="s">(</span> <span class="i">$c1</span><span class="cm">,</span> <span class="i">$c2</span><span class="cm">,</span> <span class="i">$d1</span><span class="cm">,</span> <span class="i">$d2</span> <span class="s">)</span>
           = <span class="k">map</span> <span class="s">{</span> <span class="s">(</span> <span class="i">$_</span> * <span class="n">9</span> <span class="s">)</span> + <span class="n">10</span> <span class="s">}</span> <span class="s">(</span> <span class="i">$c1</span><span class="cm">,</span> <span class="i">$c2</span><span class="cm">,</span> <span class="i">$d1</span><span class="cm">,</span> <span class="i">$d2</span> <span class="s">)</span><span class="sc">;</span>
    <span class="k">return</span> <span class="s">(</span> <span class="i">$c1</span><span class="cm">,</span> <span class="i">$c2</span><span class="cm">,</span> <span class="i">$d1</span><span class="cm">,</span> <span class="i">$d2</span> <span class="s">)</span><span class="sc">;</span>
<span class="s">}</span>
<a name="ranO-"></a><span class="k">sub </span><span class="m">ranO</span> <span class="s">{</span>                                      <span class="c"># generate orientation...</span>
    <span class="s">(</span> <span class="k">int</span><span class="s">(</span> <span class="k">rand</span><span class="s">(</span><span class="n">100</span><span class="s">)</span> % <span class="n">2</span> <span class="s">)</span> <span class="s">)</span> ? <span class="k">return</span> <span class="q">&#39;v&#39;</span>
                             <span class="co">:</span> <span class="k">return</span> <span class="q">&#39;h&#39;</span><span class="sc">;</span>
<span class="s">}</span>
<a name="placeShip-"></a><span class="k">sub </span><span class="m">placeShip</span> <span class="s">{</span>                                 <span class="c"># takes x, y and orientation</span>
  <span class="k">no</span> <span class="w">warnings</span><span class="sc">;</span>
    <span class="k">my</span> <span class="s">(</span> <span class="i">$x</span><span class="cm">,</span> <span class="i">$y</span><span class="cm">,</span> <span class="i">$s</span><span class="cm">,</span> <span class="i">$ch</span> <span class="s">)</span> = <span class="i">@_</span><span class="sc">;</span>                <span class="c"># and generates ship placement</span>
    <span class="k">my</span> <span class="i">@str</span><span class="sc">;</span>
    <span class="k">if</span> <span class="s">(</span> <span class="s">(</span> <span class="i">$ch</span> =~ <span class="q">/v/i</span> <span class="s">)</span> &amp;&amp;
       <span class="s">(</span> <span class="s">(</span> <span class="i">$x</span> &lt; <span class="n">0</span> || <span class="i">$x</span> &gt; <span class="n">9</span> <span class="s">)</span> || <span class="s">(</span> <span class="i">$y</span> &lt; <span class="n">0</span> || <span class="i">$y</span> &gt; <span class="n">10</span> - <span class="i">$s</span> <span class="s">)</span> <span class="s">)</span> <span class="s">)</span> <span class="s">{</span>
        <span class="k">return</span> <span class="i">@str</span> = <span class="q">qw&quot;Out of Range&quot;</span><span class="sc">;</span>
    <span class="s">}</span>
    <span class="k">elsif</span> <span class="s">(</span> <span class="s">(</span> <span class="i">$ch</span> =~ <span class="q">/h/i</span>  <span class="s">)</span> &amp;&amp;
       <span class="s">(</span> <span class="s">(</span> <span class="i">$x</span> &lt; <span class="n">0</span> || <span class="i">$x</span> &gt; <span class="n">10</span> - <span class="i">$s</span> <span class="s">)</span> || <span class="s">(</span> <span class="i">$y</span> &lt; <span class="n">0</span> || <span class="i">$y</span> &gt; <span class="n">9</span> <span class="s">)</span> <span class="s">)</span> <span class="s">)</span> <span class="s">{</span>
        <span class="k">return</span> <span class="i">@str</span> = <span class="q">qw&quot;Out of Range&quot;</span><span class="sc">;</span>
    <span class="s">}</span>
    <span class="k">for</span> <span class="s">(</span> <span class="k">my</span> <span class="i">$n</span> = <span class="n">0</span><span class="sc">;</span> <span class="i">$n</span> &lt; <span class="i">$s</span><span class="sc">;</span> <span class="i">$n</span>++ <span class="s">)</span> <span class="s">{</span>
        <span class="k">given</span> <span class="s">(</span> <span class="i">$ch</span> <span class="s">)</span> <span class="s">{</span>
            <span class="k">when</span> <span class="s">(</span> <span class="q">/v/i</span> <span class="s">)</span> <span class="s">{</span> <span class="k">push</span> <span class="i">@str</span><span class="cm">,</span> <span class="i">$x</span> . <span class="i">$</span>{\<span class="s">(</span> <span class="i">$y</span> + <span class="i">$n</span> <span class="s">)</span>}<span class="sc">;</span> <span class="s">}</span>
            <span class="k">when</span> <span class="s">(</span> <span class="q">/h/i</span> <span class="s">)</span> <span class="s">{</span> <span class="k">push</span> <span class="i">@str</span><span class="cm">,</span> <span class="i">$</span>{\<span class="s">(</span> <span class="i">$x</span> + <span class="i">$n</span> <span class="s">)</span>} . <span class="i">$y</span><span class="sc">;</span> <span class="s">}</span>
        <span class="s">}</span>
    <span class="s">}</span>
    <span class="k">return</span> <span class="i">@str</span><span class="sc">;</span>
<span class="s">}</span>
<a name="coordCheckStr-"></a><span class="k">sub </span><span class="m">coordCheckStr</span> <span class="s">{</span>  <span class="c"># 0 &lt;= coords &lt;= 99 and no duplicates</span>
    <span class="k">my</span> <span class="i">@allPos</span> = <span class="k">map</span> <span class="s">{</span> <span class="k">split</span> <span class="s">}</span> <span class="i">@_</span><span class="sc">;</span>
    <span class="k">my</span> <span class="s">(</span> <span class="i">$i</span><span class="cm">,</span> <span class="i">$j</span><span class="cm">,</span> <span class="i">$curr</span><span class="cm">,</span> <span class="i">@fnd</span><span class="cm">,</span> <span class="i">$next</span><span class="cm">,</span> <span class="i">$str</span> <span class="s">)</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$n</span> = <span class="i">@allPos</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">$num</span> = <span class="n">0</span><span class="sc">;</span>
    <span class="k">return</span> <span class="i">$str</span> = <span class="q">&quot;&quot;</span> <span class="k">if</span> <span class="s">(</span> <span class="i">$n</span> &lt; <span class="n">17</span> <span class="s">)</span><span class="sc">;</span>
    <span class="k">for</span> <span class="s">(</span> <span class="i">$i</span> = <span class="n">0</span><span class="sc">;</span> <span class="i">$i</span> &lt; <span class="i">$n</span><span class="sc">;</span> <span class="i">$i</span>++ <span class="s">)</span> <span class="s">{</span>
        <span class="i">$curr</span> = <span class="i">$allPos</span>[<span class="i">$i</span>]<span class="sc">;</span>
        <span class="k">for</span> <span class="s">(</span> <span class="i">$j</span> = <span class="i">$i</span> + <span class="n">1</span><span class="sc">;</span> <span class="i">$j</span> &lt; <span class="i">$n</span><span class="sc">;</span> <span class="i">$j</span>++ <span class="s">)</span> <span class="s">{</span>
            <span class="i">$next</span> = <span class="i">$allPos</span>[<span class="i">$j</span>]<span class="sc">;</span>
            <span class="k">if</span> <span class="s">(</span> <span class="i">$curr</span> == <span class="i">$next</span> <span class="s">)</span> <span class="s">{</span>
                ++<span class="i">$num</span><span class="sc">;</span>
                <span class="k">push</span> <span class="i">@fnd</span><span class="cm">,</span> <span class="i">$curr</span><span class="sc">;</span>
            <span class="s">}</span>
        <span class="s">}</span>
    <span class="s">}</span>
    <span class="s">(</span> <span class="i">$num</span> == <span class="n">0</span> <span class="s">)</span> ? <span class="k">return</span> <span class="i">$str</span> = <span class="q">&quot;Coordinates OK!\n&quot;</span>
                  <span class="co">:</span> <span class="k">return</span> <span class="i">$str</span> = <span class="q">&quot;$num duplicates found!\n@fnd&quot;</span><span class="sc">;</span>
    <span class="k">return</span><span class="sc">;</span>
<span class="s">}</span>
<a name="coordGen-"></a><span class="k">sub </span><span class="m">coordGen</span> <span class="s">{</span>                                  <span class="c"># generate coordinates...</span>
    <span class="k">my</span> <span class="s">(</span> <span class="i">$i</span><span class="cm">,</span> <span class="i">$x</span><span class="cm">,</span> <span class="i">$y</span><span class="cm">,</span> <span class="i">$str</span><span class="cm">,</span> <span class="i">$o</span><span class="cm">,</span> <span class="i">@tmp</span> <span class="s">)</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">@shipSize</span> = <span class="q">qw( 5 4 3 3 2 )</span><span class="sc">;</span>             <span class="c"># array of ship sizes</span>
    <span class="k">my</span> <span class="i">$sCount</span>   = <span class="i">@shipSize</span><span class="sc">;</span>                   <span class="c"># ship count</span>
    <span class="k">do</span> <span class="s">{</span>
        <span class="k">undef</span> <span class="i">@tmp</span><span class="sc">;</span>                             <span class="c"># reset tmp array</span>
        <span class="k">for</span> <span class="s">(</span> <span class="i">$i</span> = <span class="n">0</span><span class="sc">;</span> <span class="i">$i</span> &lt; <span class="i">$sCount</span><span class="sc">;</span> <span class="i">$i</span>++ <span class="s">)</span> <span class="s">{</span>
            <span class="i">$o</span> = <span class="i">ranO</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span>                        <span class="c"># using random o value...</span>
            <span class="i">$x</span> = <span class="k">int</span><span class="s">(</span> <span class="k">rand</span><span class="s">(</span><span class="n">10</span><span class="s">)</span> <span class="s">)</span><span class="sc">;</span>               <span class="c"># using random x and y values...</span>
            <span class="i">$y</span> = <span class="k">int</span><span class="s">(</span> <span class="k">rand</span><span class="s">(</span><span class="n">10</span><span class="s">)</span> <span class="s">)</span><span class="sc">;</span>               <span class="c"># ...pushes into array...</span>
            <span class="k">push</span> <span class="s">(</span> <span class="i">@tmp</span><span class="cm">,</span> <span class="q">&quot;@{[ placeShip( $x, $y, $shipSize[$i], $o ) ]}&quot;</span> <span class="s">)</span><span class="sc">;</span>
        <span class="s">}</span>
    <span class="s">}</span> <span class="k">while</span> <span class="s">(</span> !<span class="i">coordCheck</span><span class="s">(</span><span class="i">@tmp</span><span class="s">)</span> <span class="s">)</span><span class="sc">;</span>              <span class="c"># ...until unique and within grid range</span>
    <span class="k">return</span> <span class="i">@tmp</span><span class="sc">;</span>
<span class="s">}</span>
<a name="coordCheck-"></a><span class="k">sub </span><span class="m">coordCheck</span> <span class="s">{</span>                                <span class="c"># 0 &lt;= coords &lt;= 99 and no duplicates</span>
  <span class="k">no</span> <span class="w">warnings</span><span class="sc">;</span>
    <span class="k">my</span> <span class="i">@allPos</span> = <span class="k">map</span> <span class="s">{</span> <span class="k">split</span> <span class="s">}</span> <span class="i">@_</span><span class="sc">;</span>
    <span class="k">my</span> <span class="s">(</span> <span class="i">$i</span><span class="cm">,</span> <span class="i">$j</span><span class="cm">,</span> <span class="i">$n</span><span class="cm">,</span> <span class="i">$len</span><span class="cm">,</span> <span class="i">$curr</span><span class="cm">,</span> <span class="i">$next</span> <span class="s">)</span><span class="sc">;</span>
    <span class="i">$n</span> = <span class="i">@allPos</span><span class="sc">;</span>
    <span class="k">for</span> <span class="s">(</span> <span class="i">$i</span> = <span class="n">0</span><span class="sc">;</span> <span class="i">$i</span> &lt; <span class="i">$n</span><span class="sc">;</span> <span class="i">$i</span>++ <span class="s">)</span> <span class="s">{</span>
        <span class="i">$curr</span> = <span class="i">$allPos</span>[<span class="i">$i</span>]<span class="sc">;</span>
        <span class="i">$len</span> = <span class="k">length</span><span class="s">(</span><span class="i">$curr</span><span class="s">)</span><span class="sc">;</span>
        <span class="k">for</span> <span class="s">(</span> <span class="i">$j</span> = <span class="i">$i</span> + <span class="n">1</span><span class="sc">;</span> <span class="i">$j</span> &lt; <span class="i">$n</span><span class="sc">;</span> <span class="i">$j</span>++ <span class="s">)</span> <span class="s">{</span>
            <span class="i">$next</span> = <span class="i">$allPos</span>[<span class="i">$j</span>]<span class="sc">;</span>
            <span class="k">return</span> <span class="n">0</span> <span class="k">if</span> <span class="s">(</span> <span class="i">$len</span> &gt; <span class="n">2</span> || <span class="i">$curr</span> == <span class="i">$next</span> || <span class="i">$curr</span> &gt; <span class="n">99</span> || <span class="i">$next</span> &gt; <span class="n">99</span> <span class="s">)</span><span class="sc">;</span>
        <span class="s">}</span>
    <span class="s">}</span>
    <span class="k">return</span> <span class="n">1</span><span class="sc">;</span>
<span class="s">}</span>

<a name="EOF-"></a></pre>
</body>
</html>
